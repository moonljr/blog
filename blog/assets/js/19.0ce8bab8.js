(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{218:function(n,t,s){"use strict";s.r(t);var a=s(0),e=Object(a.a)({},(function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h2",{attrs:{id:"docker-安装nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装nginx"}},[n._v("#")]),n._v(" docker 安装nginx")]),n._v(" "),s("ol",[s("li",[n._v("在docker hub上搜索nginx")]),n._v(" "),s("li",[n._v("拉去官方镜像")]),n._v(" "),s("li",[n._v("查看镜像")]),n._v(" "),s("li",[n._v("配置挂载文件并且运行nginx")]),n._v(" "),s("li",[n._v("停止容器 "),s("code",[n._v("docker stop 容器name or id")])]),n._v(" "),s("li",[n._v("启动或重启容器 "),s("code",[n._v("docker start name or id docker restart name or id")])]),n._v(" "),s("li",[n._v("删除容器 "),s("code",[n._v("删除容器之前需要先停止容器 docker rm name or id")])]),n._v(" "),s("li",[n._v("查看容器运行状态 "),s("code",[n._v("docker ps -a")])])]),n._v(" "),s("h3",{attrs:{id:"nginx-配置https"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx-配置https"}},[n._v("#")]),n._v(" nginx 配置https")]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[n._v("server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n\tlisten "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("443")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\tserver_name erull.cn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\tssl on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\tssl_certificate   /etc/nginx/cert/erull.pem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\tssl_certificate_key  /etc/nginx/cert/erull.key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\tssl_session_timeout 5m"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\tssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("!")]),n._v("NULL:"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("!")]),n._v("aNULL:"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("!")]),n._v("MD5:"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("!")]),n._v("ADH:"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("!")]),n._v("RC4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\tssl_protocols TLSv1 TLSv1.1 TLSv1.2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\tssl_prefer_server_ciphers on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\n    location / "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n        root   /usr/share/nginx/html/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n        index  index.html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# autoindex  on;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n\tlisten "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\tserver_name erull.cn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\trewrite ^/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v(".*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v("$ https://erull.cn:443/"),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$1")]),n._v(" permanent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n")])])]),s("h3",{attrs:{id:"在hub上搜索nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在hub上搜索nginx"}},[n._v("#")]),n._v(" 在hub上搜索nginx")]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[n._v("docker search nginx\n")])])]),s("h3",{attrs:{id:"拉去nginx镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拉去nginx镜像"}},[n._v("#")]),n._v(" 拉去nginx镜像")]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[n._v("docker pull nginx "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 一般拉取stars最多的镜像")]),n._v("\n")])])]),s("h3",{attrs:{id:"查看镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像"}},[n._v("#")]),n._v(" 查看镜像")]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[n._v("docker images\n")])])]),s("h3",{attrs:{id:"配置挂载文件并且运行nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置挂载文件并且运行nginx"}},[n._v("#")]),n._v(" 配置挂载文件并且运行nginx")]),n._v(" "),s("ul",[s("li",[s("p",[n._v("首先在宿主机上创建nginx目录用来存放后面相关的配置文件")]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("mkdir")]),n._v(" -p ~/nginx/www ~/nginx/logs ~/nginx/conf ~/nginx/conf.d\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# ~/nginx/www 相当于nginx的html目录用来存放静态文件的")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# ~/nginx/logs nginx的日志文件")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#  ~/nginx/conf ~/nginx/conf.d nginx的配置文件")]),n._v("\n")])])])]),n._v(" "),s("li",[s("p",[n._v("记得要拷贝一份nginx.conf 到 conf目录，拷贝一份default.conf 到 conf.d目录下")]),n._v(" "),s("ul",[s("li",[n._v("nginx.conf 文件是Nginx的总配置文件")])]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# nginx.conf")]),n._v("\nuser  nginx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 运行用户，默认是nginx，可以不进行设置")]),n._v("\nworker_processes  "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#Nginx进程，一般设置和cpu核数一样")]),n._v("\n\nerror_log  /var/log/nginx/error.log warn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#错误日志存放位置")]),n._v("\npid        /var/run/nginx.pid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#进程pid存放位置")]),n._v("\n\n\nevents "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n    worker_connections  "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("1024")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#单个后台进程的最大并发数")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n\n\nhttp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n    include       /etc/nginx/mime.types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#文件扩展名和类型映射表")]),n._v("\n    default_type  application/octet-stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#默认的文件类型")]),n._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#设置日志模式")]),n._v("\n    log_format  main  "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v("'"),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$remote_addr")]),n._v(" - "),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$remote_user")]),n._v(" ["),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$time_local")]),n._v('] "'),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$request")]),n._v("\" '")]),n._v("\n                      "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v("'"),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$status")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$body_bytes_sent")]),n._v(' "'),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$http_referer")]),n._v("\" '")]),n._v("\n                      "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v("'\""),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$http_user_agent")]),n._v('" "'),s("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$http_x_forwarded_for")]),n._v("\"'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n\n    access_log  /var/log/nginx/access.log  main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#nginx访问日志的存放位置")]),n._v("\n\n    sendfile        on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#是否开启高效传输模式 on开启 off关闭")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#tcp_nopush     on; #减少网络报文段的数量")]),n._v("\n\n    keepalive_timeout  "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("65")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#保持连接的时间，也叫超时时间")]),n._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#gzip  on; #开启gzip压缩模式")]),n._v("\n\n    include /etc/nginx/conf.d/*.conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#包含的子配置项的位置和文件")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n")])])]),s("ul",[s("li",[n._v("default.conf")])]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[n._v("server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n    listen       "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#配置监听端口")]),n._v("\n    server_name  localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 配置域名")]),n._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#charset koi8-r;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#access_log  /var/log/nginx/log/host.access.log  main;")]),n._v("\n\n    location / "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#  root   /data/nginx/html;")]),n._v("\n        root   /usr/share/nginx/html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#服务默认启动目录")]),n._v("\n        index  index.html index.htm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#默认访问文件")]),n._v("\n        autoindex  on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# deny   123.1.41.23; # 禁止访问的ip 还可以设置ip段 123.1.1.12/100  12-100")]),n._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# allow  123.14.1.4;  # 允许访问的ip")]),n._v("\n\t    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# try_files $uri /index/index/page.html;")]),n._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#try_files $uri /index/map/page.html;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#location =/img {  # 配置页面的访问权限  `=` 精确匹配符号")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#   allow all;  # 允许所有的ip访问")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#}")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#location =/admin {")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#    deny all; # 禁止所有的ip访问")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#}")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#location ~\\.php$ { # 禁止以php结尾的文件访问")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#   deny all;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#}")]),n._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#error_page  404              /404.html;   # 配置404页面")]),n._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# redirect server error pages to the static page /50x.html")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#")]),n._v("\n    error_page   "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("500")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("502")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("503")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("504")]),n._v("  /50x.html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#错误状态码的显示页面，配置后需要重启")]),n._v("\n    location "),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" /50x.html "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n        root   /usr/share/nginx/html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# proxy the PHP scripts to Apache listening on 127.0.0.1:80")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#location ~ \\.php$ {")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#    proxy_pass   http://127.0.0.1;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#}")]),n._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#location ~ \\.php$ {")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#    root           html;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#    fastcgi_pass   127.0.0.1:9000;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#    fastcgi_index  index.php;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#    include        fastcgi_params;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#}")]),n._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# deny access to .htaccess files, if Apache's document root")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# concurs with nginx's one")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#location ~ /\\.ht {")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#    deny  all;")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#}")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n")])])])]),n._v(" "),s("li",[s("p",[n._v("运行nginx")])])]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[n._v(" docker run -d -p "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("80")]),n._v(":80 --restart"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("always --name nginx80 -v ~/nginx/www:/usr/share/nginx/html -v ~/nginx/conf/nginx.conf:/etc/nginx/nginx.conf -v ~/nginx/conf.d/default.conf:/etc/nginx/conf.d/default.conf -v ~/nginx/logs:/var/log/nginx nginx\n\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 命令说明")]),n._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# -d 后台运行nginx")]),n._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# -p 80:80： 将容器的 80 端口映射到主机的 80端口")]),n._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# --restart=always 当docker重启的时候会自动启动容器")]),n._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# --name nginx80：将容器命名为 nginx80。（别名的意思）")]),n._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# -v ~/nginx/www:/usr/share/nginx/html：将我们自己创建的 www 目录挂载到容器的 /usr/share/nginx/html。")]),n._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# -v ~/nginx/conf/nginx.conf:/etc/nginx/nginx.conf：将我们自己创建的 nginx.conf 挂载到容器的 /etc/nginx/nginx.conf。")]),n._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# -v ~/nginx/conf.d/default.conf:/etc/nginx/conf.d/default.conf 将我们自己创建的 default.conf 挂载到容器的 /etc/nginx/conf.d/default.conf。")]),n._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# -v ~/nginx/logs:/var/log/nginx：将我们自己创建的 logs 挂载到容器的 /var/log/nginx。")]),n._v("\n")])])]),s("h3",{attrs:{id:"补充"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[n._v("#")]),n._v(" 补充")]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[n._v("docker run -d -p "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("80")]),n._v(":80 --name nginx80 -v ~/nginx/www:/usr/share/nginx -v ~/nginx/conf/nginx.conf:/etc/nginx/nginx.conf -v ~/nginx/conf.d:/etc/nginx/conf.d -v ~/nginx/logs:/var/log/nginx nginx\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# -v ~/nginx/conf.d:/etc/nginx/conf.d 本来是将default.conf映射到容器里边的 但是后来配置二级路由的时候发现使用多个 *.conf的配置文件的方式去配置路由不生效 查了下原因才发现启动容器的时候只映射了default.conf 没有映射其他的配置文件")]),n._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# -v ~/nginx/www:/usr/share/nginx 映射到和html同级的目录 用不同的目录区分不同二级域名下的文件")]),n._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);