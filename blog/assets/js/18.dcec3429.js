(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{198:function(s,l,t){"use strict";t.r(l);var a=t(0),e=Object(a.a)({},function(){var s=this,l=s.$createElement,t=s._self._c||l;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"docker安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker安装mysql","aria-hidden":"true"}},[s._v("#")]),s._v(" docker安装mysql")]),s._v(" "),t("p",[s._v("mysql -uroot -p root")]),s._v(" "),t("ol",[t("li",[s._v("拉去镜像")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker pull mysql\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("创建挂载文件夹")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mkdir -p ~/mysql/data ~/mysql/logs ~/mysql/conf\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("部署mysql")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker run -p 3306:3306 --name mysql3306 -v ~/mysql/conf:/etc/mysql/conf.d -v ~/mysql/logs:/logs -v ~/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=Pass1234. -d mysql\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[s._v("通过navicat 连接数据库测试")])]),s._v(" "),t("blockquote",[t("p",[s._v("连接测试的时候会报2045的错误  因为最新的mysql的密码加密方式与原来的加密方式不同 需要进到mysql里边去修改")])]),s._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[s._v("修改mysql加密方式")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# 通过docker 进入到mysql容器里边\ndocker exec -it 容器ID /bin/bash\n# 进入到mysql里边\nmysql -uroot -p 密码\n# 查询加密方式\nmysql> select Host,User,plugin from mysql.user;\n查询结果\n+-----------+------------------+-----------------------+\n| Host      | User             | plugin                |\n+-----------+------------------+-----------------------+\n| %         | root             | caching_sha2_password |\n| %         | vuluser          | caching_sha2_password |\n---------------------\n查询结果如上，在老版本里，一般使用加密方式为mysql_native_password，因为认证方式改变导致的。\n# 修改加密方式（将用户的加密方式改为mysql_native_password，密码为root。）\nalter user 'root'@'%' identified with mysql_native_password by 'root';\n# 执行命令flush privileges使权限配置项立即生效\nmysql>flush privileges；\n# 然后exit 退出容器 重新连接即可\n")])])])])},[],!1,null,null,null);l.default=e.exports}}]);